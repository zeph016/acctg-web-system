
<div class='rptctrls-container @ControlPosition'>
    <div Class='rptctrls-container__controls'>
        <MudSpacer />
        @if(!IsCloseOnly)
        {
            <MudButton Class='btn-ios-d font12' OnClick="Back"  Color='Color.Error' Variant='Variant.Filled' DisableElevation Size='Size.Small'>@(IsSaved ? "RETURN" : "CANCEL")</MudButton>
            @if (Processing) {
                <MudButton Class='btn-ios-d font12' OnClick="Prompt" Variant='Variant.Filled' DisableElevation Disabled='Processing' Color='Color.Success' Size='Size.Small'>
                    <MudText Class='font12 pr-2'>SAVING VOUCHER</MudText>
                    <MudProgressCircular Class="progsize-21" Size="Size.Small" Indeterminate />
                </MudButton>
            } else {
                <MudButton Class='btn-ios-d font12' OnClick="Prompt" Variant='Variant.Filled' DisableElevation 
                    Disabled='IsSaved' Color='Color.Success' Size='Size.Small' 
                    EndIcon='@(!Processing ? Icons.Material.Filled.Save:"")'>
                    @ConfirmStr
                </MudButton>
            }
        }
        else
        {
            <MudButton Class='btn-ios-d font12' OnClick="Back" Variant='Variant.Filled' DisableElevation 
                    Color='Color.Error' Size='Size.Small' 
                    EndIcon='@Icons.Material.Filled.Close'>
                    @ConfirmStr
            </MudButton>
        }
    </div>
</div>

@code {
    [Parameter] public EventCallback BackEventClick { get; set; }
    [Parameter] public EventCallback PromptEventClick { get; set; }
    [Parameter] public string ConfirmStr { get; set; } = string.Empty;
    [Parameter] public string CancelStr { get; set; } = string.Empty;
    [Parameter] public string PositionValue { get; set; } = string.Empty;
    [Parameter] public bool Processing { get; set; }
    [Parameter] public bool IsSaved { get; set; }
    [Parameter] public bool IsCloseOnly { get; set; }
    [Parameter] public string ControlPosition { get; set; } = string.Empty;
    public override async Task SetParametersAsync(ParameterView parameters)
    {
        await base.SetParametersAsync(parameters);
    }

    protected async Task Back() => await BackEventClick.InvokeAsync();
    
    protected async Task Prompt() => await PromptEventClick.InvokeAsync();
}